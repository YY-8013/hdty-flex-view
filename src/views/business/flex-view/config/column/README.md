# åˆ—é…ç½®ç®¡ç†æ¨¡å—

## ðŸ“‹ æ¨¡å—è¯´æ˜Ž

åˆ—é…ç½®ç®¡ç†æ¨¡å—ç”¨äºŽç®¡ç†æ•°æ®æ™¾æ™’ç³»ç»Ÿçš„ç»Ÿè®¡åˆ—é…ç½®ï¼Œæ”¯æŒæ ‘å½¢ç»“æž„çš„åˆ—å®šä¹‰ï¼Œå®žçŽ°å¤šçº§è¡¨å¤´çš„åŠ¨æ€å±•ç¤ºã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. åˆ—è¡¨å±•ç¤º
- âœ… æ ‘å½¢è¡¨æ ¼å±•ç¤ºï¼Œæ”¯æŒæ— é™å±‚çº§
- âœ… é»˜è®¤å…¨éƒ¨å±•å¼€ï¼Œæ¸…æ™°å±•ç¤ºå±‚çº§å…³ç³»
- âœ… æ”¯æŒå¤šæ¡ä»¶æŸ¥è¯¢ï¼ˆåˆ—åç§°ã€å±žæ€§åã€çŠ¶æ€ã€æ³¨é”€çŠ¶æ€ï¼‰
- âœ… æ”¯æŒæ‰¹é‡åˆ é™¤æ“ä½œ
- âœ… çŠ¶æ€æ ‡ç­¾å¯è§†åŒ–æ˜¾ç¤ºï¼ˆå¯ç”¨/åœç”¨ã€æ³¨é”€çŠ¶æ€ï¼‰

### 2. æ–°å¢žåŠŸèƒ½
- âœ… çˆ¶èŠ‚ç‚¹çº§è”é€‰æ‹©ï¼Œæ”¯æŒåˆ›å»ºæ ¹èŠ‚ç‚¹æˆ–å­èŠ‚ç‚¹
- âœ… åŸºæœ¬ä¿¡æ¯é…ç½®ï¼ˆåˆ—åç§°ã€å±žæ€§åã€æŽ’åºå·ã€å¤‡æ³¨ï¼‰
- âœ… æ˜¾ç¤ºé…ç½®ï¼ˆåˆ—å®½ã€å¯¹é½æ–¹å¼ã€å›ºå®šåˆ—ã€æ˜¯å¦å¯æŽ’åºã€é»˜è®¤å±•å¼€ï¼‰
- âœ… å…³è”è¡¨å•é…ç½®ï¼ˆæ”¯æŒç‚¹å‡»åˆ—æ‰“å¼€æ˜Žç»†å½•å…¥å¼¹çª—ï¼‰
- âœ… åˆ—å‰ç«¯é…ç½®ï¼ˆJSONæ ¼å¼ï¼Œæ”¯æŒæ ¼å¼åŒ–ã€æ ·å¼ã€æ¡ä»¶æ˜¾ç¤ºç­‰ï¼‰
- âœ… çŠ¶æ€è®¾ç½®ï¼ˆå¯ç”¨/åœç”¨ã€çŠ¶æ€å¤‡æ³¨ï¼‰

### 3. ç¼–è¾‘åŠŸèƒ½
- âœ… åŠ è½½çŽ°æœ‰é…ç½®æ•°æ®
- âœ… çˆ¶èŠ‚ç‚¹é€‰æ‹©æ—¶è‡ªåŠ¨è¿‡æ»¤å½“å‰èŠ‚ç‚¹åŠå…¶å­èŠ‚ç‚¹ï¼ˆé¿å…å¾ªçŽ¯å¼•ç”¨ï¼‰
- âœ… æ”¯æŒä¿®æ”¹æ‰€æœ‰é…ç½®é¡¹
- âœ… å·²æ³¨é”€è®°å½•ä¸å¯ç¼–è¾‘

### 4. è¯¦æƒ…æŸ¥çœ‹
- âœ… åˆ†ç»„å±•ç¤ºåŸºæœ¬ä¿¡æ¯ã€æ˜¾ç¤ºé…ç½®ã€åˆ—å‰ç«¯é…ç½®ã€çŠ¶æ€ä¿¡æ¯ã€ç³»ç»Ÿä¿¡æ¯
- âœ… JSONé…ç½®è‡ªåŠ¨æ ¼å¼åŒ–æ˜¾ç¤º
- âœ… æ˜¾ç¤ºå¯ç”¨/åœç”¨/æ³¨é”€çš„è¯¦ç»†ä¿¡æ¯å’Œæ—¶é—´
- âœ… ç¾Žè§‚çš„å¡ç‰‡å¼å¸ƒå±€

### 5. çŠ¶æ€æ“ä½œ
- âœ… **å¯ç”¨**: è¾“å…¥å¯ç”¨åŽŸå› ï¼Œè®°å½•å¯ç”¨äººå’Œæ—¶é—´
- âœ… **åœç”¨**: è¾“å…¥åœç”¨åŽŸå› ï¼Œè®°å½•åœç”¨äººå’Œæ—¶é—´
- âœ… **æ³¨é”€**: è¾“å…¥æ³¨é”€åŽŸå› ï¼Œè®°å½•æ³¨é”€äººã€æœºæž„å’Œæ—¶é—´
- âœ… å·²æ³¨é”€è®°å½•ä¸å¯è¿›è¡Œå…¶ä»–æ“ä½œ

### 6. åˆ é™¤åŠŸèƒ½
- âœ… å•æ¡åˆ é™¤
- âœ… æ‰¹é‡åˆ é™¤ï¼ˆæ”¯æŒå¤šé€‰ï¼‰
- âœ… äºŒæ¬¡ç¡®è®¤ï¼Œé˜²æ­¢è¯¯åˆ 

## ðŸ“ æ–‡ä»¶ç»“æž„

```
config/column/
â”œâ”€â”€ index.vue          # åˆ—è¡¨ä¸»é¡µï¼ˆæ ‘å½¢è¡¨æ ¼ï¼‰
â”œâ”€â”€ ColumnAdd.vue      # æ–°å¢žå¼¹çª—
â”œâ”€â”€ ColumnEdit.vue     # ç¼–è¾‘å¼¹çª—
â”œâ”€â”€ ColumnDetail.vue   # è¯¦æƒ…å¼¹çª—
â””â”€â”€ README.md          # æœ¬æ–‡ä»¶
```

## ðŸŽ¨ ç•Œé¢è®¾è®¡

### åˆ—è¡¨é¡µ
- **å¸ƒå±€**: æ ‡å‡†ä¸‰æ®µå¼ï¼ˆæŸ¥è¯¢åŒº + è¡¨æ ¼åŒº + åˆ†é¡µåŒºï¼‰
- **æŸ¥è¯¢åŒº**: æ”¯æŒæŠ˜å å±•å¼€ï¼Œé«˜çº§æŸ¥è¯¢æ¡ä»¶ä½¿ç”¨ `slot="after"`
- **è¡¨æ ¼**: æ ‘å½¢è¡¨æ ¼ï¼Œé»˜è®¤å±•å¼€æ‰€æœ‰èŠ‚ç‚¹
- **æ“ä½œåˆ—**: å›ºå®šå³ä¾§ï¼ŒåŒ…å«è¯¦æƒ…ã€ç¼–è¾‘ã€å¯ç”¨/åœç”¨ã€æ³¨é”€ã€åˆ é™¤æŒ‰é’®

### å¼¹çª—è¡¨å•
- **åˆ†ç»„å¸ƒå±€**: åŸºæœ¬ä¿¡æ¯ã€æ˜¾ç¤ºé…ç½®ã€åˆ—å‰ç«¯é…ç½®ã€çŠ¶æ€è®¾ç½®
- **å“åº”å¼**: ä½¿ç”¨ `el-row` å’Œ `el-col` å®žçŽ°æ …æ ¼å¸ƒå±€
- **æ ·å¼**: åˆ†ç»„å¡ç‰‡å¼è®¾è®¡ï¼ŒèƒŒæ™¯è‰²åŒºåˆ†ä¸åŒåˆ†ç»„
- **æç¤º**: é‡è¦é…ç½®é¡¹æä¾› Tooltip æç¤º

### è¯¦æƒ…é¡µ
- **å¡ç‰‡å¼**: æ¯ä¸ªåˆ†ç»„ä½¿ç”¨å¡ç‰‡æ ·å¼
- **æ ‡ç­¾åŒ–**: çŠ¶æ€ã€å¯¹é½æ–¹å¼ç­‰ä½¿ç”¨ el-tag å±•ç¤º
- **JSONç¾ŽåŒ–**: é…ç½®JSONè‡ªåŠ¨æ ¼å¼åŒ–å¹¶é«˜äº®æ˜¾ç¤º
- **ä¿¡æ¯å®Œæ•´**: å±•ç¤ºæ‰€æœ‰å­—æ®µåŠæ“ä½œè®°å½•

## ðŸ”§ ä½¿ç”¨è¯´æ˜Ž

### 1. åˆ—é…ç½®JSONè¯´æ˜Ž

åˆ—å‰ç«¯é…ç½®æ”¯æŒä»¥ä¸‹å±žæ€§:

```json
{
  // æ ·å¼é…ç½®
  "style": {
    "color": "#333",
    "fontWeight": "normal",
    "background": "#f5f7fa"
  },
  
  // æ•°æ®æ ¼å¼åŒ–
  "formatter": {
    "type": "number",      // ç±»åž‹: number/percent/date/custom
    "precision": 2,        // å°æ•°ä½æ•°
    "suffix": "%",         // åŽç¼€
    "prefix": "Â¥"          // å‰ç¼€
  },
  
  // æ¡ä»¶æ˜¾ç¤º
  "conditional": {
    "rules": [
      {
        "condition": "value > 90",
        "style": {"color": "#67C23A"}
      }
    ]
  },
  
  // ç‚¹å‡»äº‹ä»¶
  "click": {
    "enabled": true,
    "style": {
      "cursor": "pointer",
      "color": "#409EFF",
      "textDecoration": "underline"
    }
  }
}
```

### 2. å¸¸ç”¨é…ç½®ç¤ºä¾‹

**æ•°å­—æ ¼å¼åŒ–**:
```json
{"formatter":{"type":"number","precision":0}}
```

**ç™¾åˆ†æ¯”æ˜¾ç¤º**:
```json
{"formatter":{"type":"percent","precision":2,"suffix":"%"}}
```

**å¯ç‚¹å‡»æ ·å¼**:
```json
{"click":{"enabled":true,"style":{"cursor":"pointer","color":"#409EFF"}}}
```

**æ¡ä»¶æ ¼å¼åŒ–**:
```json
{"conditional":{"rules":[{"condition":"value >= 95","style":{"color":"#67C23A"}},{"condition":"value < 80","style":{"color":"#F56C6C"}}]}}
```

### 3. æ ‘å½¢ç»“æž„è¯´æ˜Ž

- **æ ¹èŠ‚ç‚¹**: `parentId` ä¸º `null` æˆ–ä¸é€‰æ‹©çˆ¶èŠ‚ç‚¹
- **å­èŠ‚ç‚¹**: é€‰æ‹©çˆ¶èŠ‚ç‚¹åŽåˆ›å»º
- **å¶å­èŠ‚ç‚¹**: å¿…é¡»å¡«å†™ `prop`ï¼ˆå±žæ€§ååï¼‰
- **åˆ†ç»„èŠ‚ç‚¹**: ä¸å¡«å†™ `prop`ï¼Œä»…ä½œä¸ºè¡¨å¤´åˆ†ç»„

### 4. å…³è”è¡¨å•

- é…ç½® `formId` åŽï¼Œè¯¥åˆ—åœ¨ç»Ÿè®¡åˆ—è¡¨ä¸­å¯ç‚¹å‡»
- ç‚¹å‡»åŽæ‰“å¼€æ˜Žç»†å½•å…¥å¼¹çª—
- ç”¨äºŽå®žçŽ°ç‚¹å‡»ç»Ÿè®¡æ•°æ®æŸ¥çœ‹/å½•å…¥æ˜Žç»†åŠŸèƒ½

## ðŸ”Œ APIæŽ¥å£

### æŽ¥å£è·¯å¾„
- åŸºç¡€è·¯å¾„: `/api/flex-view/column/`
- æ‰€æœ‰æŽ¥å£ä½¿ç”¨ Mock æ•°æ®ï¼ŒåŽç«¯å¼€å‘å®ŒæˆåŽæ›¿æ¢

### æŽ¥å£åˆ—è¡¨

| æŽ¥å£            | æ–¹æ³• | è¯´æ˜Ž         |
| --------------- | ---- | ------------ |
| `/tree`         | GET  | èŽ·å–æ ‘å½¢ç»“æž„ |
| `/page`         | GET  | åˆ†é¡µæŸ¥è¯¢åˆ—è¡¨ |
| `/detail/:id`   | GET  | èŽ·å–è¯¦æƒ…     |
| `/add`          | POST | æ–°å¢ž         |
| `/edit`         | POST | ç¼–è¾‘         |
| `/delete/:id`   | POST | åˆ é™¤         |
| `/batch-delete` | POST | æ‰¹é‡åˆ é™¤     |
| `/enable`       | POST | å¯ç”¨         |
| `/disable`      | POST | åœç”¨         |
| `/cancel`       | POST | æ³¨é”€         |

### æ•°æ®æ ¼å¼

**åˆ—è¡¨æŸ¥è¯¢å‚æ•°**:
```javascript
{
  label: '',      // åˆ—åç§°
  prop: '',       // å±žæ€§å
  status: '',     // çŠ¶æ€: 1-å¯ç”¨ 0-åœç”¨
  zxbs: ''        // æ³¨é”€çŠ¶æ€: 0-æœªæ³¨é”€ 1-å·²æ³¨é”€
}
```

**æ–°å¢ž/ç¼–è¾‘æ•°æ®**:
```javascript
{
  id: '',              // ä¸»é”®IDï¼ˆç¼–è¾‘æ—¶å¿…å¡«ï¼‰
  parentId: null,      // çˆ¶èŠ‚ç‚¹ID
  label: '',           // åˆ—åç§°
  prop: '',            // å±žæ€§å
  columnWidth: null,   // åˆ—å®½
  align: 'center',     // å¯¹é½æ–¹å¼
  fixed: null,         // å›ºå®šåˆ—
  sortable: 'false',   // æ˜¯å¦å¯æŽ’åº
  defaultExpand: 'true', // é»˜è®¤å±•å¼€
  formId: null,        // å…³è”è¡¨å•ID
  columnConfig: null,  // åˆ—é…ç½®JSON
  sortNum: 0,          // æŽ’åºå·
  status: '1',         // å¯ç”¨çŠ¶æ€
  statusRemark: '',    // çŠ¶æ€å¤‡æ³¨
  memo: ''             // å¤‡æ³¨
}
```

## ðŸŽ¯ å¼€å‘è§„èŒƒ

### 1. ä»£ç æ³¨é‡Š
- âœ… æ‰€æœ‰æ–¹æ³•å¿…é¡»æ·»åŠ  JSDoc æ³¨é‡Š
- âœ… å¤æ‚é€»è¾‘å¿…é¡»æ·»åŠ è¡Œå†…æ³¨é‡Š
- âœ… é‡è¦é…ç½®é¡¹å¿…é¡»æ·»åŠ è¯´æ˜Ž

### 2. å‘½åè§„èŒƒ
- ç»„ä»¶å: PascalCaseï¼ˆå¦‚ `ColumnAdd`ï¼‰
- æ–¹æ³•å: camelCaseï¼ˆå¦‚ `handleQuery`ï¼‰
- å˜é‡å: camelCaseï¼ˆå¦‚ `formData`ï¼‰

### 3. æ ·å¼è§„èŒƒ
- ä½¿ç”¨ `scoped` ä½œç”¨åŸŸ
- ä½¿ç”¨ SCSS è¯­æ³•
- ä½¿ç”¨ `::v-deep` ä¿®æ”¹ç»„ä»¶æ ·å¼
- é¢œè‰²ä½¿ç”¨é¡¹ç›®ç»Ÿä¸€è‰²å€¼

### 4. æ•°æ®æµè§„èŒƒ
- çˆ¶å­ç»„ä»¶é€šä¿¡ä½¿ç”¨ `props` å’Œ `$emit`
- åˆ—è¡¨ç»„ä»¶é€šè¿‡ `provide/inject` å…±äº«æ•°æ®
- è¡¨å•ç»„ä»¶ä½¿ç”¨ `hdForm` mixin

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **Mockæ•°æ®**: å½“å‰ä½¿ç”¨ Mock æ•°æ®ï¼ŒåŽç«¯æŽ¥å£å¼€å‘å®ŒæˆåŽéœ€è¦æ›¿æ¢
2. **æƒé™æŽ§åˆ¶**: åŽæœŸéœ€è¦æ·»åŠ æŒ‰é’®çº§æƒé™æŽ§åˆ¶
3. **æ•°æ®éªŒè¯**: JSONé…ç½®éœ€è¦ä¸¥æ ¼éªŒè¯æ ¼å¼
4. **å¾ªçŽ¯å¼•ç”¨**: ç¼–è¾‘æ—¶å¿…é¡»è¿‡æ»¤å½“å‰èŠ‚ç‚¹ï¼Œé¿å…çˆ¶èŠ‚ç‚¹é€‰æ‹©è‡ªå·±
5. **æ³¨é”€ä¿æŠ¤**: å·²æ³¨é”€è®°å½•ä¸å¯ç¼–è¾‘ã€å¯ç”¨ã€åœç”¨
6. **æ‰¹é‡æ“ä½œ**: æ‰¹é‡åˆ é™¤éœ€è¦äºŒæ¬¡ç¡®è®¤

## ðŸ“ å¾…ä¼˜åŒ–é¡¹

- [ ] æ·»åŠ æ‹–æ‹½æŽ’åºåŠŸèƒ½
- [ ] æ”¯æŒåˆ—é…ç½®å¯¼å…¥/å¯¼å‡º
- [ ] æ·»åŠ é…ç½®é¢„è§ˆåŠŸèƒ½
- [ ] ä¼˜åŒ–JSONç¼–è¾‘å™¨ï¼ˆè€ƒè™‘ä½¿ç”¨ CodeMirrorï¼‰
- [ ] æ·»åŠ é…ç½®åŽ†å²è®°å½•
- [ ] æ”¯æŒé…ç½®æ¨¡æ¿åŠŸèƒ½

## ðŸ”— ç›¸å…³æ–‡æ¡£

- [æ•°æ®åº“è®¾è®¡æ–‡æ¡£](../../../../../dev-document/01-æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md)
- [HDtyç»„ä»¶ä½¿ç”¨è§„èŒƒ](../../../../../dev-document/02-HDtyç»„ä»¶ä½¿ç”¨è§„èŒƒä¸Žæ¨¡æ¿.md)
- [ç»¼åˆå¼€å‘æ–‡æ¡£](../../../../../dev-document/04-æ•°æ®æ™¾æ™’ç³»ç»Ÿç»¼åˆå¼€å‘æ–‡æ¡£.md)

## ðŸ‘¨â€ðŸ’» ç»´æŠ¤è€…

AI Assistant - 2025-11-26

---

**æ³¨æ„**: æœ¬æ¨¡å—æ‰€æœ‰ä»£ç éƒ½éµå¾ª flex-view æ¨¡å—éš”ç¦»åŽŸåˆ™ï¼Œä¸æ±¡æŸ“å…¨å±€ç›®å½•ã€‚
