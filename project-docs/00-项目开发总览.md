# 数据晾晒统计系统 - 项目开发总览

## 📋 文档说明

本文档是数据晾晒统计系统开发的总索引,提供项目概览、文档导航、关键决策记录和开发路线图。

---

## 🎯 一、项目概述

### 1.1 项目背景

**项目名称**: 数据晾晒统计系统  
**项目定位**: 基于 HDty 框架(v2.0.1)的高度可配置数据统计与录入平台  
**适用场景**: 多机构、多业务类别的数据晾晒展示、明细录入、统计分析

### 1.2 核心价值

1. **配置驱动**: 新增业务类别无需修改代码,仅需配置即可生效
2. **灵活扩展**: 支持动态表单、多级表头、字段映射等灵活机制
3. **高性能**: 采用定时快照 + 实时刷新策略,支持大数据量统计
4. **易维护**: 统一的配置管理,清晰的数据流转,降低维护成本

### 1.3 技术栈

**前端**:
- Vue 2.6.14
- Webpack 4.46.0
- Element-UI 2.12.0
- HDty 框架自定义组件
- Vuex 3.6.0 + Vue Router 3.0.1

**后端**:
- Spring Boot 2.x
- MyBatis / MyBatis-Plus
- Oracle 11g+
- Druid 连接池

**开发工具**:
- Node.js 14.21.3
- npm 6.x
- Vue CLI 4.5.15

---

## 📚 二、文档导航

### 2.1 需求与设计文档

| 文档名称             | 路径                             | 说明                               |
| -------------------- | -------------------------------- | ---------------------------------- |
| 需求规格说明书       | `dev-md/需求规格说明书.md`       | 详细的业务需求、功能需求、验收标准 |
| 系统架构设计文档     | `dev-md/系统架构设计文档.md`     | 技术架构、数据流转、性能优化方案   |
| 系统设计讲解说明文档 | `dev-md/系统设计讲解说明文档.md` | 从零讲解系统设计思路、业务逻辑     |
| 数据库设计文档       | `dev-md/数据库设计文档.md`       | 数据库表结构、字段说明、索引设计   |
| 前端开发文档         | `dev-md/前端开发文档.md`         | 前端开发规范、组件设计、示例代码   |
| 后端开发文档         | `dev-md/后端开发文档.md`         | 后端接口设计、业务逻辑、代码示例   |
| 技术栈适配说明       | `dev-md/技术栈适配说明.md`       | HDty 框架适配说明、组件映射关系    |

### 2.2 项目开发文档

| 文档名称             | 路径                                    | 说明                                   |
| -------------------- | --------------------------------------- | -------------------------------------- |
| 🎯 项目开发总览       | `project-docs/00-项目开发总览.md`       | 本文档,项目总索引                      |
| ✅ 需求可行性分析报告 | `project-docs/01-需求可行性分析报告.md` | 可行性分析、风险评估、工作量估算       |
| 📋 前端开发计划       | `project-docs/02-前端开发计划.md`       | 前端任务拆分、开发顺序、技术方案       |
| 📁 目录结构调整说明   | `project-docs/03-目录结构调整说明.md`   | 目录结构设计、模块隔离原则、开发规范   |
| ✅ 组件初始化清单     | `project-docs/04-组件初始化清单.md`     | 组件创建清单、开发优先级、技术要点     |
| 🔧 后端开发计划       | `project-docs/05-后端开发计划.md`       | (待创建)后端任务拆分、API 设计         |
| 📊 数据库初始化脚本   | `project-docs/06-数据库初始化脚本.sql`  | (待创建)建表语句、测试数据             |
| 🧪 测试计划           | `project-docs/07-测试计划.md`           | (待创建)测试用例、测试数据             |
| 📝 开发日志           | `project-docs/08-开发日志.md`           | (待创建)记录开发过程中的问题与解决方案 |

---

## 🗺️ 三、开发路线图

### 3.1 整体规划

```
项目总工期: 约 4 周(2人并行开发)

┌─────────────────────────────────────────────────────────────┐
│  第1周: 基础设施搭建 + 技术预研                              │
├─────────────────────────────────────────────────────────────┤
│  - 数据库设计与初始化 (2天)                                  │
│  - 后端 API 框架搭建 (2天)                                   │
│  - 前端基础设施搭建 (API 封装、Vuex 状态管理) (2天)         │
│  - HDty 组件技术预研 (hd-build-table、hd-form) (1天)        │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  第2周: 核心功能开发                                         │
├─────────────────────────────────────────────────────────────┤
│  - 后端核心 API 开发 (配置管理、数据录入) (3天)             │
│  - 前端通用组件开发 (动态表单、字段渲染器) (2天)            │
│  - 前端统计列表页面开发 (1天)                               │
│  - 前端明细弹窗开发 (1天)                                    │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  第3周: 配置管理 + 统计计算                                  │
├─────────────────────────────────────────────────────────────┤
│  - 后端统计计算逻辑 (定时任务、存储过程) (2天)              │
│  - 前端列配置管理页面 (1.5天)                               │
│  - 前端表单配置管理页面 (1天)                               │
│  - 前后端联调 (2天)                                          │
└─────────────────────────────────────────────────────────────┘
                              ↓
┌─────────────────────────────────────────────────────────────┐
│  第4周: 测试优化 + 文档完善                                  │
├─────────────────────────────────────────────────────────────┤
│  - 单元测试编写 (2天)                                        │
│  - 集成测试与 Bug 修复 (2天)                                │
│  - 性能优化(大数据量测试) (1天)                             │
│  - 文档完善与交付 (2天)                                      │
└─────────────────────────────────────────────────────────────┘
```

### 3.2 里程碑

| 里程碑               | 时间节点 | 交付内容                   | 验收标准                    |
| -------------------- | -------- | -------------------------- | --------------------------- |
| **M1: 基础搭建完成** | 第1周末  | 数据库、后端框架、前端基础 | API 可调通,前端可访问       |
| **M2: 核心功能完成** | 第2周末  | 统计列表、明细录入         | 可录入数据,可展示统计       |
| **M3: 配置管理完成** | 第3周末  | 列配置、表单配置、统计计算 | 可配置列和表单,统计数据正确 |
| **M4: 项目交付**     | 第4周末  | 完整系统、测试报告、文档   | 通过验收测试                |

---

## ✅ 四、可行性结论

### 4.1 技术可行性

**结论**: ✅ **完全可行**

**理由**:
1. ✅ HDty 框架已有 90% 所需组件(`hd-form`、`hd-build-table`、`hd-dict-*`等)
2. ✅ 技术栈完全兼容(Vue 2.6.14 + Webpack 4 + Element-UI 2.12.0)
3. ✅ 数据库设计方案成熟(JSON + 映射混合存储)
4. ✅ 已有成熟的工具函数(storage、util-date、axios-init等)

### 4.2 风险评估

**综合风险等级**: 🟢 **低风险**

**主要风险点**:
1. ⚠️ `hd-build-table` 多级表头支持度不确定 → **解决方案**: 技术预研确认,或基于 `el-table` 自行封装
2. ⚠️ 大数据量(100万+)统计性能 → **解决方案**: 分区表 + 增量更新 + 缓存
3. ⚠️ 配置界面复杂度高 → **解决方案**: 提供可视化配置界面,支持拖拽

### 4.3 工作量估算

| 模块               | 工作量(人天) | 说明                         |
| ------------------ | ------------ | ---------------------------- |
| 数据库设计与初始化 | 2            | 建表、存储过程、测试数据     |
| 后端 API 开发      | 5            | 配置管理、数据录入、统计计算 |
| 前端页面开发       | 7            | 统计列表、列配置、表单配置   |
| 前后端联调         | 2            | 接口联调、数据测试           |
| 单元测试           | 2            | 单元测试、集成测试           |
| 性能优化           | 1            | 大数据量测试、缓存优化       |
| 文档编写           | 2            | 开发文档、测试报告           |
| **总计**           | **21**       | **约 4 周(2人并行开发)**     |

---

## 🎯 五、关键技术决策

### 5.1 前端技术决策

| 决策点       | 方案选择                                       | 理由                                 |
| ------------ | ---------------------------------------------- | ------------------------------------ |
| 多级表头实现 | 优先使用 `hd-build-table`,备选 `el-table` 封装 | 最大化复用框架组件,降低开发成本      |
| 动态表单实现 | 基于 `hd-form` 二次封装                        | 已有成熟组件,支持动态配置            |
| 字典选择     | 使用 `hd-dict-*` 系列组件                      | 框架已集成字典管理,支持远程/静态字典 |
| 状态管理     | Vuex 模块化管理                                | 列配置、表单配置需要缓存             |
| 数据请求     | 使用 axios-init                                | 框架已封装,自动添加 token            |

### 5.2 后端技术决策

| 决策点   | 方案选择                | 理由                       |
| -------- | ----------------------- | -------------------------- |
| 数据存储 | JSON + 映射字段混合存储 | 兼顾灵活性和查询性能       |
| 动态 SQL | MyBatis 动态 SQL        | 支持灵活查询,防止 SQL 注入 |
| 统计计算 | 定时快照 + 实时刷新     | 性能最优,支持历史追溯      |
| 字段映射 | 反射 + 工具类           | 自动映射前端字段到数据库列 |
| 缓存策略 | Spring Cache + Redis    | 配置缓存,提升性能          |

### 5.3 数据库设计决策

| 决策点       | 方案选择                   | 理由                           |
| ------------ | -------------------------- | ------------------------------ |
| 业务数据存储 | 通用表(BIZ_DATA_COMMON)    | 所有表单数据存一张表,便于管理  |
| 字段扩展     | 预留字段 + JSON            | 重要字段映射,非重要字段存 JSON |
| 统计底数存储 | 按字段维度(STAT_BASE_DATA) | 更细粒度,支持复杂指标          |
| 表分区       | 按月分区                   | 提升查询性能,便于数据清理      |

---

## 📊 六、开发任务分配

### 6.1 前端开发任务

| 任务编号 | 任务名称      | 优先级 | 工作量 | 状态     |
| -------- | ------------- | ------ | ------ | -------- |
| FE-01    | API 接口封装  | 🔴 高   | 1天    | ⏳ 待开始 |
| FE-02    | Vuex 状态管理 | 🔴 高   | 1天    | ⏳ 待开始 |
| FE-03    | 通用组件开发  | 🔴 高   | 2天    | ⏳ 待开始 |
| FE-04    | 统计列表页面  | 🔴 高   | 2.5天  | ⏳ 待开始 |
| FE-05    | 配置管理页面  | 🟡 中   | 2.5天  | ⏳ 待开始 |
| FE-06    | 路由配置      | 🟡 中   | 0.5天  | ⏳ 待开始 |
| FE-07    | 联调测试      | 🔴 高   | 2天    | ⏳ 待开始 |

### 6.2 后端开发任务

| 任务编号 | 任务名称           | 优先级 | 工作量 | 状态     |
| -------- | ------------------ | ------ | ------ | -------- |
| BE-01    | 数据库设计与初始化 | 🔴 高   | 2天    | ⏳ 待开始 |
| BE-02    | 配置管理 API       | 🔴 高   | 1.5天  | ⏳ 待开始 |
| BE-03    | 业务数据 API       | 🔴 高   | 1.5天  | ⏳ 待开始 |
| BE-04    | 统计数据 API       | 🔴 高   | 1天    | ⏳ 待开始 |
| BE-05    | 统计计算逻辑       | 🔴 高   | 2天    | ⏳ 待开始 |
| BE-06    | 单元测试           | 🟡 中   | 1天    | ⏳ 待开始 |

---

## 🔍 七、下一步行动

### 7.1 立即执行

**优先级 1: 技术预研(1天)**
- [ ] 查看 `hd-build-table` 源码,确认多级表头支持度
- [ ] 查看 `hd-form` 源码,确认动态表单配置能力
- [ ] 测试 Oracle JSON 函数性能(100万数据)

**优先级 2: 数据库设计(2天)**
- [ ] 创建数据库初始化脚本
- [ ] 编写测试数据生成脚本
- [ ] 编写统计计算存储过程

**优先级 3: 基础设施搭建(2天)**
- [ ] 前端 API 接口封装
- [ ] 前端 Vuex 状态管理
- [ ] 后端项目框架搭建

### 7.2 文档待完善

- [ ] 创建 `03-后端开发计划.md`
- [ ] 创建 `04-数据库初始化脚本.sql`
- [ ] 创建 `05-测试计划.md`
- [ ] 创建 `06-开发日志.md`

---

## 📝 八、文档版本记录

| 版本 | 日期       | 修订人 | 变更内容                  |
| ---- | ---------- | ------ | ------------------------- |
| 1.0  | 2025-11-26 | AI助手 | 初始版本,创建项目总览文档 |

---

## 📞 九、联系方式

**项目负责人**: (待填写)  
**前端负责人**: (待填写)  
**后端负责人**: (待填写)  
**测试负责人**: (待填写)

---

## 📚 十、附录

### 附录A: HDty 框架组件清单

详见 `mdList/` 目录下的工具类说明文档:
- `01-项目依赖和入口文件说明.md` - 核心技术栈和依赖
- `02-crypto.js工具类说明.md` - 加密解密工具
- `09-util-date.js工具类说明.md` - 日期处理工具
- `12-util-framework.js工具类说明.md` - 框架通用方法

### 附录B: 常用命令

```bash
# 安装依赖
npm install

# 启动开发服务器(端口 8060)
npm run dev

# 生产构建
npm run build

# 代码检查
npm run lint
```

### 附录C: 目录结构

```
hdty-flex-view-web/
├── dev-md/              # 需求与设计文档
├── project-docs/        # 项目开发文档(本目录)
├── mdList/              # 工具类说明文档
├── public/              # 静态资源
├── src/                 # 源代码
│   ├── api/             # API 接口
│   ├── assets/          # 资源文件
│   ├── components/      # HDty 自定义组件
│   ├── router/          # 路由配置
│   ├── store/           # Vuex 状态管理
│   ├── utils/           # 工具函数
│   ├── views/           # 页面视图
│   ├── App.vue          # 根组件
│   └── main.js          # 入口文件
├── package.json         # 依赖配置
└── vue.config.js        # Vue CLI 配置
```

---

**文档版本**: 1.0  
**创建日期**: 2025-11-26  
**适用版本**: HDty v2.0.1 + Vue 2.6.14  
**维护人员**: 项目组全体成员
